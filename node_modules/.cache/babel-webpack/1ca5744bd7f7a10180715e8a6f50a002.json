{"ast":null,"code":"import _asyncToGenerator from \"C:/source/OnlineBooks_Front/online-books-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { ModalDismissReasons } from '@ng-bootstrap/ng-bootstrap';\nimport { touchAllFormFields } from '../angular-helpers/validation';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../auth/auth.usecase\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\n\nconst _c0 = function () {\n  return [\"/admin-dashboard\"];\n};\n\nfunction TopnavComponent_a_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 17);\n    i0.ɵɵtext(1, \"dashboard\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\n\nfunction TopnavComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelementStart(1, \"a\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Welcome: \", ctx_r1.name, \"\");\n  }\n}\n\nfunction TopnavComponent_a_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_a_23_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n\n      const _r4 = i0.ɵɵreference(26);\n\n      return ctx_r6.openModal(_r4);\n    });\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TopnavComponent_a_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_a_24_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.logout();\n    });\n    i0.ɵɵtext(1, \"Logout\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TopnavComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelementStart(1, \"h4\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_ng_template_25_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const modal_r10 = restoredCtx.$implicit;\n      return modal_r10.dismiss(\"Cross click\");\n    });\n    i0.ɵɵelementStart(4, \"span\", 23);\n    i0.ɵɵtext(5, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 24);\n    i0.ɵɵelementStart(7, \"form\", 25);\n    i0.ɵɵelementStart(8, \"div\", 26);\n    i0.ɵɵelementStart(9, \"div\", 27);\n    i0.ɵɵelement(10, \"input\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 27);\n    i0.ɵɵelement(12, \"input\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 30);\n    i0.ɵɵelementStart(14, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_ng_template_25_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const modal_r10 = restoredCtx.$implicit;\n      return modal_r10.dismiss(\"Cross click\");\n    });\n    i0.ɵɵtext(15, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function TopnavComponent_ng_template_25_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const modal_r10 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      ctx_r14.login();\n      return modal_r10.dismiss(\"Cross click\");\n    });\n    i0.ɵɵtext(17, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r5.headerMenu);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"formGroup\", ctx_r5.loginForm);\n  }\n}\n\nconst _c1 = function () {\n  return [\"/home\"];\n};\n\nexport class TopnavComponent {\n  constructor(formBuilder, authUsecase, modalService) {\n    this.formBuilder = formBuilder;\n    this.authUsecase = authUsecase;\n    this.modalService = modalService;\n    this.name = '';\n    this.closeResult = '';\n    this.headerMenu = '';\n    this.loginForm = this.formBuilder.group({\n      email: [''],\n      password: ['']\n    });\n  }\n\n  ngOnInit() {\n    const firstname = localStorage.getItem(\"firstname\");\n    const lastname = localStorage.getItem(\"lastname\");\n    this.name = firstname + \"  \" + lastname + \"     \";\n  }\n\n  openModal(content) {\n    this.headerMenu = 'Login';\n    this.loginForm.reset();\n    this.modalService.open(content, {\n      ariaLabelledBy: 'modal-basic-title'\n    }).result.then(result => {\n      this.closeResult = `Closed with: ${result}`;\n    }, reason => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n\n  isLoggedIn() {\n    return !!localStorage.getItem('token');\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.loginForm.valid) {\n        touchAllFormFields(_this.loginForm);\n        return;\n      }\n\n      _this.authUsecase.login(_this.loginForm.value);\n    })();\n  }\n\n  logout() {\n    this.authUsecase.logout('/home');\n  }\n\n  getDismissReason(reason) {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n\n}\n\nTopnavComponent.ɵfac = function TopnavComponent_Factory(t) {\n  return new (t || TopnavComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthUsecase), i0.ɵɵdirectiveInject(i3.NgbModal));\n};\n\nTopnavComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TopnavComponent,\n  selectors: [[\"app-topnav\"]],\n  decls: 27,\n  vars: 6,\n  consts: [[\"bdColor\", \"rgba(51,51,51,0.8)\", \"size\", \"large\", \"size\", \"medium\", \"color\", \"#fff\", \"type\", \"square-jelly-box\"], [2, \"font-size\", \"20px\", \"color\", \"white\"], [\"id\", \"templatemo_menu\"], [1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [1, \"container-fluid\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarText\", \"aria-controls\", \"navbarText\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarText\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"me-auto\", \"mb-2\", \"mb-lg-0\"], [1, \"nav-item\"], [\"aria-current\", \"page\", 1, \"nav-link\", \"active\", 3, \"routerLink\"], [\"class\", \"nav-link\", 3, \"routerLink\", 4, \"ngIf\"], [\"href\", \"#\", 1, \"nav-link\"], [4, \"ngIf\"], [1, \"navbar-text\"], [\"class\", \"nav-left link\", \"style\", \"padding-left: 10px; cursor: pointer;\", \"aria-current\", \"page\", 3, \"click\", 4, \"ngIf\"], [\"mymodal\", \"\"], [1, \"nav-link\", 3, \"routerLink\"], [\"aria-current\", \"page\", 1, \"nav-left\"], [\"aria-current\", \"page\", 1, \"nav-left\", \"link\", 2, \"padding-left\", \"10px\", \"cursor\", \"pointer\", 3, \"click\"], [1, \"modal-header\"], [\"id\", \"modal-basic-title\", 1, \"modal-title\", \"pull-left\", 2, \"color\", \"darkgray\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", \"pull-right\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"formGroup\"], [1, \"row\"], [1, \"col-sm-12\"], [\"placeholder\", \"Email\", \"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\", \"mb-4\", 2, \"font-family\", \"Arial\"], [\"placeholder\", \"password\", \"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\", \"mb-4\", 2, \"font-family\", \"Arial, FontAwesome\"], [1, \"modal-footer\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"]],\n  template: function TopnavComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ngx-spinner\", 0);\n      i0.ɵɵelementStart(1, \"p\", 1);\n      i0.ɵɵtext(2, \"S'il vous pla\\u00EEt, attendez...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵelementStart(4, \"nav\", 3);\n      i0.ɵɵelementStart(5, \"div\", 4);\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵelement(7, \"span\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7);\n      i0.ɵɵelementStart(9, \"ul\", 8);\n      i0.ɵɵelementStart(10, \"li\", 9);\n      i0.ɵɵelementStart(11, \"a\", 10);\n      i0.ɵɵtext(12, \"Home\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"li\", 9);\n      i0.ɵɵtemplate(14, TopnavComponent_a_14_Template, 2, 2, \"a\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"li\", 9);\n      i0.ɵɵelementStart(16, \"a\", 12);\n      i0.ɵɵtext(17, \"Books\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"li\", 9);\n      i0.ɵɵelementStart(19, \"a\", 12);\n      i0.ɵɵtext(20, \"New Releases\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, TopnavComponent_span_21_Template, 3, 1, \"span\", 13);\n      i0.ɵɵelementStart(22, \"span\", 14);\n      i0.ɵɵtemplate(23, TopnavComponent_a_23_Template, 2, 0, \"a\", 15);\n      i0.ɵɵtemplate(24, TopnavComponent_a_24_Template, 2, 0, \"a\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(25, TopnavComponent_ng_template_25_Template, 18, 2, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(5, _c1));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn());\n    }\n  },\n  directives: [i4.NgxSpinnerComponent, i3.NgbNavbar, i5.RouterLinkWithHref, i6.NgIf, i1.ɵNgNoValidate, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.DefaultValueAccessor, i1.NgControlStatus, i1.FormControlName],\n  styles: [\".nav-left[_ngcontent-%COMP%] {\\r\\n    font-weight    : bold;\\r\\n    text-align     : center;\\r\\n    text-decoration: none;\\r\\n    color          : #969547;\\r\\n    font-size      : 12px;\\r\\n}\\r\\n\\r\\n.nav-left[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%] {\\r\\n    font-size      : 12px;\\r\\n    font-weight    : bold;\\r\\n    text-align     : center;\\r\\n    text-decoration: none;\\r\\n    cursor         : pointer;\\r\\n    color          : #969547;\\r\\n    padding-left   : 30px !important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvcG5hdi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0kscUJBQXFCO0lBQ3JCLHVCQUF1QjtJQUN2QixxQkFBcUI7SUFDckIsd0JBQXdCO0lBQ3hCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLHFCQUFxQjtJQUNyQixxQkFBcUI7SUFDckIsdUJBQXVCO0lBQ3ZCLHFCQUFxQjtJQUNyQix3QkFBd0I7SUFDeEIsd0JBQXdCO0lBQ3hCLGdDQUFnQztBQUNwQyIsImZpbGUiOiJ0b3BuYXYuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYXYtbGVmdCB7XHJcbiAgICBmb250LXdlaWdodCAgICA6IGJvbGQ7XHJcbiAgICB0ZXh0LWFsaWduICAgICA6IGNlbnRlcjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICAgIGNvbG9yICAgICAgICAgIDogIzk2OTU0NztcclxuICAgIGZvbnQtc2l6ZSAgICAgIDogMTJweDtcclxufVxyXG5cclxuLm5hdi1sZWZ0IC5saW5rIHtcclxuICAgIGZvbnQtc2l6ZSAgICAgIDogMTJweDtcclxuICAgIGZvbnQtd2VpZ2h0ICAgIDogYm9sZDtcclxuICAgIHRleHQtYWxpZ24gICAgIDogY2VudGVyO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY3Vyc29yICAgICAgICAgOiBwb2ludGVyO1xyXG4gICAgY29sb3IgICAgICAgICAgOiAjOTY5NTQ3O1xyXG4gICAgcGFkZGluZy1sZWZ0ICAgOiAzMHB4ICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\"]\n});","map":{"version":3,"sources":["C:\\source\\OnlineBooks_Front\\online-books-front\\src\\app\\topnav\\topnav.component.ts","C:\\source\\OnlineBooks_Front\\online-books-front\\src\\app\\topnav\\topnav.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { touchAllFormFields } from '../angular-helpers/validation';\n\nimport { AuthUsecase } from '../auth/auth.usecase';\n\n@Component({\n  selector: 'app-topnav',\n  templateUrl: './topnav.component.html',\n  styleUrls: ['./topnav.component.css']\n})\nexport class TopnavComponent implements OnInit {\n  loginForm: FormGroup;\n  name: string = '';\n  closeResult: string = '';\n  headerMenu: string = '';\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private authUsecase: AuthUsecase,\n    private modalService: NgbModal) { \n    this.loginForm = this.formBuilder.group({\n      email: [''],\n      password: ['']\n    });\n  }\n\n  ngOnInit(): void {\n    const firstname = localStorage.getItem(\"firstname\");\n    const lastname = localStorage.getItem(\"lastname\");\n    this.name = firstname + \"  \" + lastname + \"     \";\n  }\n\n  openModal(content: any) {\n    this.headerMenu = 'Login'\n    this.loginForm.reset();\n    this.modalService.open(content, { ariaLabelledBy: 'modal-basic-title' }).result.then((result: any) => {\n      this.closeResult = `Closed with: ${result}`;\n    }, (reason: any) => {\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\n    });\n  }\n\n  isLoggedIn() {\n    return !!localStorage.getItem('token');\n  }\n\n  async login(): Promise<void> {\n    if (!this.loginForm.valid) {\n      touchAllFormFields(this.loginForm);\n      return;\n    }\n    this.authUsecase.login(this.loginForm.value);\n  }\n\n  logout() {\n    this.authUsecase.logout('/home');\n  }\n\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return `with: ${reason}`;\n    }\n  }\n}\n","<ngx-spinner bdColor=\"rgba(51,51,51,0.8)\" size=\"large\" size=\"medium\" color=\"#fff\" type=\"square-jelly-box\">\n    <p style=\"font-size: 20px; color: white\">S'il vous plaît, attendez...</p>\n</ngx-spinner>\n\n<div id=\"templatemo_menu\">\n    <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n        <div class=\"container-fluid\">\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarText\"\n                aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n            <div class=\"collapse navbar-collapse\" id=\"navbarText\">\n                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                    <li class=\"nav-item\">\n                        <a class=\"nav-link active\" aria-current=\"page\" [routerLink]=\"['/home']\">Home</a>\n                    </li>\n                    <li class=\"nav-item\">\n                        <a class=\"nav-link\" *ngIf=\"isLoggedIn()\" [routerLink]=\"['/admin-dashboard']\">dashboard</a>\n                    </li>\n                    <li class=\"nav-item\">\n                        <a class=\"nav-link\" href=\"#\">Books</a>\n                    </li>\n                    <li class=\"nav-item\">\n                        <a class=\"nav-link\" href=\"#\">New Releases</a>\n                    </li>\n                </ul>\n                <span *ngIf=\"isLoggedIn()\">\n                    <a class=\"nav-left\" aria-current=\"page\">Welcome: {{name}}</a>\n                </span>\n                <span class=\"navbar-text\">\n                    <a class=\"nav-left link\" style=\"padding-left: 10px; cursor: pointer;\" *ngIf=\"!isLoggedIn()\" aria-current=\"page\" (click)=\"openModal(mymodal)\">Login</a>\n                    <a class=\"nav-left link\" style=\"padding-left: 10px; cursor: pointer;\" *ngIf=\"isLoggedIn()\" aria-current=\"page\" (click)=\"logout()\">Logout</a>\n                </span>\n            </div>\n        </div>\n    </nav>\n</div>\n\n<ng-template #mymodal let-modal>\n    <div class=\"modal-header\">\n        <h4 class=\"modal-title pull-left\" id=\"modal-basic-title\" style=\"color: darkgray;\">{{headerMenu}}</h4>\n        <button type=\"button\" class=\"close pull-right\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n            <span aria-hidden=\"true\">&times;</span>\n        </button>\n    </div>\n    <div class=\"modal-body\">\n        <form [formGroup]=\"loginForm\">\n            <div class=\"row\">\n                <div class=\"col-sm-12\">\n                    <input placeholder=\"Email\" type=\"text\" formControlName=\"email\" class=\"form-control mb-4\" style=\"font-family:Arial\">\n                </div>\n                <div class=\"col-sm-12\">\n                    <input placeholder=\"password\" type=\"password\" formControlName=\"password\" class=\"form-control mb-4\" style=\"font-family:Arial, FontAwesome\">\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-outline-danger\" (click)=\"modal.dismiss('Cross click')\">Cancel</button>\n        <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"login();modal.dismiss('Cross click')\">Login</button>\n    </div>\n</ng-template>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}